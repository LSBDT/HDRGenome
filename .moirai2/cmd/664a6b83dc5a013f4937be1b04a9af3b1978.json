{"https://moirai2.github.io/schema/daemon/bash":["if [ \"$genome\" = \"hg38\" ]; then","wget -q -O $tmpdir/annotation.gtf.gz https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_41/gencode.v41.annotation.gtf.gz","elif [ \"$genome\" = \"hg19\" ]; then","wget -q -O $tmpdir/annotation.gtf.gz https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_41/GRCh37_mapping/gencode.v41lift37.annotation.gtf.gz","fi","gzip -cd $tmpdir/annotation.gtf.gz | selectGenesFromGencode.pl | sort -k 1,1 -k 2,2n > $gencode","rm $tmpdir/annotation.gtf.gz","mv $gencode annotation/$genome.gencode.bed","gencode=annotation/$genome.gencode.bed"],"https://moirai2.github.io/schema/daemon/input":"genome","https://moirai2.github.io/schema/daemon/approximate/time":"1","https://moirai2.github.io/schema/daemon/output":"gencode","https://moirai2.github.io/schema/daemon/query/in":"root->genome->$genome","https://moirai2.github.io/schema/daemon/query/out":"$genome->gencode->$gencode","https://moirai2.github.io/schema/daemon/dagdb":"db","https://moirai2.github.io/schema/daemon/script":{"https://moirai2.github.io/schema/daemon/script/code":["#!/usr/bin/perl","while(<STDIN>){","    if(/^#/){next;}","    chomp;","    my $Line=$_;","    my ($seqname,$source,$feature,$start,$end,$score,$strand,$frame,$attribute)=split(/\\t/);","    if($feature ne \"gene\"){next;}","    my @attrs=split(/\\;\\s*/,$attribute);","    my $geneId;","    my $geneName;","    my $geneType;","    foreach my $attr(@attrs){","        #gene_id \"ENSG00000223972.5\"","        if($attr=~/gene_id\\s\\\"(.+)\\\"/){$geneId=$1;}","        if($attr=~/gene_name\\s\\\"(.+)\\\"/){$geneName=$1;}","        if($attr=~/gene_type\\s\\\"(.+)\\\"/){$geneType=$1;}","    }","    if(!defined($geneId)){print STDERR \"geneId not found for $line\\n\";next;}","    print \"$seqname\\t$start\\t$end\\t$geneName\\t$score\\t$strand\\n\";","}"],"https://moirai2.github.io/schema/daemon/script/name":"selectGenesFromGencode.pl"}}
